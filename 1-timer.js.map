{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputFp = document.getElementById('datetime-picker');\nconst startButton = document.querySelector('[data-start]');\n\nclass MessageAlert {\n  constructor(title, message, position, timeout, transitionIn, transitionOut) {\n    this.title = title;\n    this.message = message;\n    this.position = position;\n    this.timeout = timeout;\n    this.transitionIn = transitionIn;\n    this.transitionOut = transitionOut;\n  }\n  info() {\n    iziToast.info({\n      title: this.title,\n      message: this.message,\n      position: this.position,\n      timeout: this.timeout,\n      transitionIn: this.transitionIn,\n      transitionOut: this.transitionOut,\n    });\n  }\n  success() {\n    iziToast.success({\n      title: this.title,\n      message: this.message,\n      position: this.position,\n      timeout: this.timeout,\n      transitionIn: this.transitionIn,\n      transitionOut: this.transitionOut,\n    });\n  }\n  error() {\n    iziToast.error({\n      title: this.title,\n      message: this.message,\n      position: this.position,\n      timeout: this.timeout,\n      transitionIn: this.transitionIn,\n      transitionOut: this.transitionOut,\n    });\n  }\n}\nclass ErrorAlert extends MessageAlert {\n  constructor(message) {\n    super('Error', message, 'topRight', 5000, 'fadeInDown', 'fadeOutUp');\n  }\n}\nclass SuccessAlert extends MessageAlert {\n  constructor(message) {\n    super('success', message, 'topRight', 5000, 'fadeInDown', 'fadeOutUp');\n  }\n}\nclass InfoAlert extends MessageAlert {\n  constructor(message) {\n    super('info', message, 'topRight', 5000, 'blue', 'fadeInDown', 'fadeOutUp');\n  }\n}\n\nstartButton.disabled = true;\nlet userSelectedDate = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n\n    const errorAlertInstance = new ErrorAlert(\n      'Please choose a date in the future!'\n    );\n    if (userSelectedDate <= new Date()) {\n      errorAlertInstance.error();\n    } else {\n      startButton.disabled = false;\n    }\n    console.log(userSelectedDate);\n  },\n};\nflatpickr(inputFp, options);\n\nconst addLeadingZero = value => value.toString().padStart(2, '0');\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = addLeadingZero(Math.floor(ms / day));\n\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n\n  const seconds = addLeadingZero(\n    Math.floor((((ms % day) % hour) % minute) / second)\n  );\n\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\nfunction startCountDown(targetDate) {\n  const countdownInterval = setInterval(() => {\n    const now = new Date();\n    const timeRemaining = targetDate - now;\n    const InfoAlertInstans = new InfoAlert('Time is up!!');\n    if (timeRemaining <= 0) {\n      clearInterval(countdownInterval);\n\n      InfoAlertInstans.info();\n    } else {\n      const { days, hours, minutes, seconds } = convertMs(timeRemaining);\n      document.querySelector('[data-days]').textContent = days;\n      document.querySelector('[data-hours]').textContent = hours;\n      document.querySelector('[data-minutes]').textContent = minutes;\n      document.querySelector('[data-seconds]').textContent = seconds;\n    }\n  }, 1000);\n}\n\nstartButton.addEventListener('click', () => {\n  startCountDown(userSelectedDate);\n  startButton.disabled = true;\n});\n"],"names":["inputFp","startButton","MessageAlert","title","message","position","timeout","transitionIn","transitionOut","iziToast","ErrorAlert","InfoAlert","userSelectedDate","options","selectedDates","errorAlertInstance","flatpickr","addLeadingZero","value","convertMs","ms","days","hours","minutes","seconds","startCountDown","targetDate","countdownInterval","timeRemaining","InfoAlertInstans"],"mappings":"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"}